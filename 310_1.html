<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Bugyulo</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link rel="stylesheet" type="text/css" href="310/szo2.css">
        <link rel="stylesheet" type="text/css" href="310/css/h5p-font-awesome.min.css">

        <!-- PopUP -->
        <link rel="stylesheet" href="310/assets/style.min.css">

        <!-- Touch -->
        <link href="310/css/jquery.ui.all.css" rel="stylesheet">
        <link href="310/css/jquery-ui-1.10.2.custom.min.css" rel="stylesheet">
        <script src="310/js/jquery.min.js"></script>
        <script src="310/js/jquery-ui.min.js"></script>
        <script src="310/js/jquery.ui.touch-punch.min.js"></script>

        <!-- PopUP -->
        <script type="text/javascript">
            $(document).ready(function(){
                $('popup').trigger('click');
            });

            function popup1(){
                $(document).ready(function(){
                    $('popup').trigger('click');
                });
            }

            function popup2(){
                document.getElementById('popup_2').click();
            }
        </script>
    </head>
    <body>

        <div id="go-button" class="fulloff"  onclick="toggleFullScreen()"></div>
        <div id="info" onclick="popup2()"><img src="310/img/noun_324974_cc.svg" alt="kérdőjel" width="60" draggable="false"></div>
        <div id="navigation">
            <a style="margin-left: 13px" class="h5p-question-back h5p-joubelui-button" href="310.html" aria-label="nincs"></a>
        </div>

        <div id="felugroablak_kezelok">
            <span id="popup_1" class="button small pop1" style="visibility: hidden;" data-bpopup='{"transition":"slideDown","speed":700,"easing":"easeOutBack"}'>popup</span>
            <span id="popup_2" class="button small pop2" style="visibility: hidden;" data-bpopup='{"transition":"slideIn","speed":650}'>popup2</span>
        </div>

        <div id="popup"> <!-- Üdvözlő szöveg -->
            <span class="button b-close"><span>X</span></span>
            <div class="content">
                <p>Haladj a megadott irány alapján, és húzd a betűtartóba a meglelt betűt!<br>Olvass össze egy új szót!</p>
            </div>
        </div>

        <div id="popup2" style="z-index: 9999999999;"> <!-- Információs szöveg -->
            <span class="button b-close"><span>X</span></span>
            <div class="content">
                <p>Haladj a megadott irány alapján, és húzd a betűtartóba a meglelt betűt!<br>Olvass össze egy új szót!</p>
            </div>
        </div>

        <div id="dropZone1" class="dropZone drop1"></div>
        <div id="dropZone2" class="dropZone drop2"></div>
        <div id="dropZone3" class="dropZone drop3"></div>
        <div id="dropZone4" class="dropZone drop4"></div>
        <div id="dropZone5" class="dropZone drop5"></div>
        <div id="dropZone6" class="dropZone drop6"></div>
        <div id="dropZone7" class="dropZone drop7"></div>
        <div id="dropZone8" class="dropZone drop8"></div>


        <div id="draggable01" class="dropMe accept-10"><p class="betu">Í</p></div>
        <div id="draggable02" class="dropMe accept-5"><p class="betu">S</p></div>
        <div id="draggable03" class="dropMe accept-2"><p class="betu">L</p></div>
        <div id="draggable06" class="dropMe accept-10"><p class="betu">Z</p></div>
        <div id="draggable07" class="dropMe accept-10"><p class="betu">K</p></div>
        <div id="draggable08" class="dropMe accept-4"><p class="betu">Á</p></div>
        <div id="draggable10" class="dropMe accept-3"><p class="betu">D</p></div>
        <div id="draggable11" class="dropMe accept-1"><p class="betu">O</p></div>
        <div id="draggable12" class="dropMe accept-10"><p class="betu">P</p></div>
        <p class="betu2">start</p>

        <script>
           function toggleFullScreen() {
              if ((document.fullScreenElement && document.fullScreenElement !== null) ||    
               (!document.mozFullScreen && !document.webkitIsFullScreen)) {
                if (document.documentElement.requestFullScreen) {  
                  document.documentElement.requestFullScreen();  
                } else if (document.documentElement.mozRequestFullScreen) {  
                  document.documentElement.mozRequestFullScreen();  
                } else if (document.documentElement.webkitRequestFullScreen) {  
                  document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);  
                }  
              } else {  
                if (document.cancelFullScreen) {  
                  document.cancelFullScreen();  
                } else if (document.mozCancelFullScreen) {  
                  document.mozCancelFullScreen();  
                } else if (document.webkitCancelFullScreen) {  
                  document.webkitCancelFullScreen();  
                }  
              }  
            }

            var gameDropped = [];

            var zoneCounter = {
                'dropZone1':  { left: 700, counter:0 },
                'dropZone2':  { left: 635, counter:0 },
                'dropZone3':  { left: 570, counter:0 },
                'dropZone4':  { left: 505, counter:0 },
                'dropZone5':  { left: 440, counter:0 },
                'dropZone6':  { left: 375, counter:0 },
                'dropZone7':  { left: 310, counter:0 },
                'dropZone8':  { left: 245, counter:0 }
            }

            var handleDragStart = function(event, ui)  {
            }

            var positionDropped = function(ui,landingId) {
                zoneCounter[landingId]['counter']++;
                var counter = zoneCounter[landingId]['counter'];
                if([landingId] == 'dropZone1'){
                        var top =  'calc(780/1080*100%)'; 
                        var left = 'calc(750/1920*100%)';
                        $(ui.draggable).css({'top': top, 'left' : left});
                }
                if([landingId] == 'dropZone2'){
                        var top = 'calc(780/1080*100%)'; 
                        var left = 'calc(960/1920*100%)';
                        $(ui.draggable).css({'top': top, 'left' : left});
                }
                if([landingId] == 'dropZone3'){
                        var top = 'calc(780/1080*100%)'; 
                        var left = 'calc(1170/1920*100%)';
                        $(ui.draggable).css({'top': top, 'left' : left});
                }
                if([landingId] == 'dropZone4'){
                        var top = 'calc(780/1080*100%)'; 
                        var left = 'calc(1390/1920*100%)';
                        $(ui.draggable).css({'top': top, 'left' : left});
                }
                if([landingId] == 'dropZone5'){
                        var top = 'calc(780/1080*100%)'; 
                        var left = 'calc(1610/1920*100%)';
                        $(ui.draggable).css({'top': top, 'left' : left});
                }
            }

            var handleDrop = function( event, ui ) {
                var landingId = $(this).attr('id');
                positionDropped(ui,landingId);
                if ($.inArray( $(ui.draggable).attr('id') , gameDropped) == -1) {
                    gameDropped.push( $(ui.draggable).attr('id') );
                    if (gameDropped.length == 8) {
                        $('#helpText').css({'opacity':0})
                        $('#winText').css({'padding-top':'800px'})
                        $('#winText').css({'opacity':1})
                        //restartGame(1);
                        clearTimeout(timeoutHandle);
                    }
                }
            }

            $(function() {
                $( ".dropMe" ).draggable( { revert: "invalid", start : handleDragStart });
                $( "#dropZone1" ).droppable({ accept: ".accept-1", drop: handleDrop });
                $( "#dropZone2" ).droppable({ accept: ".accept-2", drop: handleDrop });
                $( "#dropZone3" ).droppable({ accept: ".accept-3", drop: handleDrop });
                $( "#dropZone4" ).droppable({ accept: ".accept-4", drop: handleDrop });
                $( "#dropZone5" ).droppable({ accept: ".accept-5", drop: handleDrop });
                $( "#dropZone6" ).droppable({ accept: ".accept-6", drop: handleDrop });
                $( "#dropZone7" ).droppable({ accept: ".accept-7", drop: handleDrop });
                $( "#dropZone8" ).droppable({ accept: ".accept-8", drop: handleDrop });
            });

            // helper
            function shuffle(array) {
                var currentIndex = array.length, temporaryValue, randomIndex;
                // While there remain elements to shuffle...
                while (0 !== currentIndex) {
                    // Pick a remaining element...
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;
                    // And swap it with the current element.
                    temporaryValue = array[currentIndex];
                    array[currentIndex] = array[randomIndex];
                    array[randomIndex] = temporaryValue;
                }
                return array;
            }
        </script>

        <!-- PopUP -->
        <script src="310/assets/jquery.bpopup-0.11.0.min.js"></script>
        <script src="310/assets/jquery.easing.1.3.js"></script>
        <script src="310/assets/scripting.min.js"></script>
    </body>
</html>